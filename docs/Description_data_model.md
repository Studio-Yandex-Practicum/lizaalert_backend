# Описание модели данных

Звездочкой (*) отмечены обязательные поля.

## Аккаунт

Используется встроенная модель [User](https://docs.djangoproject.com/en/3.2/ref/contrib/auth/) из django.contrib.auth.models.
Необходимо дополнить встроенную модель полем "Номер телефона" (Phone_number) с использованием его в качестве уникального идентификатора пользователя.
Роли (Permission) Руководитель курса, Учащийся и другие назначаются c использованием моделей и методов, предоставляемых django.contrib.auth.models.

**Для всех таблиц ниже используется отдельная схема БД Postgresql (например, content)**

## Волонтер

Имя модели - **Volunteer**
Таблица БД - **volunteer**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **user*** - тип OneToOneField, отношение один-к-одному к модели **User**
- **full_name*** - ФИО волонтера, тип CharField, длина 255
- **birth_date*** - дата рождения, тип DateField
- **location*** - географический регион, тип ForeignKey (один ко многим) к модели **Location** (Географический регион)
- **call_sign*** - позывной на форуме, тип CharField, длина 50
- **photo_path** - путь к файлу фотографией учащегося, тип FileField
- **level** - уровень, тип ForeignKey (один ко многим) к модели **Level** (Уровень)
- **confirmed** - статус подтверждения волонтера Администратором, тип BooleanField
- **who_confirmed** - кто подтвердил статус пользователя, тип OneToOneField, отношение один-к-одному к модели **User**
- **badges** - значки, тип ManyToManyField (многие ко многим) к модели **Badge** (Значки), через модель **StudentBadge**
- **courses** - курсы, тип ManyToManyField (многие ко многим) к модели **Сourse** (Курсы), через модель **StudentCourse**
- **created_at*** - дата создания записи об учащемся, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи об учащемся, тип DateTimeField с таймстамп, сделать автоматическое проставление текущего времени

## Географический регион

Имя модели - **Location**
Таблица БД - **locations**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **region*** - наименование региона, тип текст, длина 255
- **created_at*** - дата создания записи о регионе, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи о регионе, тип DateTimeField, сделать автоматическое проставление текущего времени

## Уровень

Имя модели - **Level**
Таблица БД - **levels**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **name*** - наименование уровня, тип CharField, длина 20, (выбор из Новичок, Бывалый, Профессионал)
- **description** - описание уровня и условий его достижения, тип TextField
- **created_at*** - дата создания записи об  уровне, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи об уровне, тип DateTimeField, сделать автоматическое проставление текущего времени

## Значок

Имя модели - **Badge**
Таблица БД - **badges**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **name*** - наименование значка, тип CharField, длина 40
- **description** - описание значка и условий его получения, тип TextField
- **file_path** - путь к графическому изображению значка, тип FileField
- **created_at*** - дата создания записи о значке, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи о значке, тип DateTimeField, сделать автоматическое проставление текущего времени

## Учащиеся <-> Значки (многие-ко-многим)

Имя модели - **StudentBadge**
Таблица БД  - **studetns_badges**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **student*** - тип ForeignKey к модели учащегося **Student**
- **badge*** - тип ForeignKey к модели значка **Badge**
- **created_at*** - дата создания записи о свзяи учащийся - значок, тип DateTimeField, сделать автоматическое проставление текущего времени

## Учащиеся <-> Курсы (многие-ко-многим)

Имя модели - **StudentCourse**
Таблица БД  - **studetns_courses**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **student*** - тип ForeignKey к модели учащегося **Student**
- **course*** - тип ForeignKey к модели курса **Course**
- **status*** - статус курса, тип CharField, длина 20, выбор из Активный, Не активный, Пройден, Вы записаны
- **created_at*** - дата создания записи о связи учащийся - курс, тип DateTimeField, сделать автоматическое проставление текущего времени

Создать уникальный индекс (UniqueConstraint) по полям [student, course, status] чтобы конкретный курс был привязан к пользователю только с одним из возможных статусов

_Уточнить необходимость статуса "Не активный", так как он дублируется по функциональности со статусом "Пройден"_

## Сертификат

Имя модели - **Sertificate**
Таблица БД - **sertificates** 

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **student*** - тип ForeignKey к модели учащегося **Student**
- **course*** - тип ForeignKey к модели курса **Course**
- **final_assessment*** - итоговая оценка по результатам прохождения курса, тип FloatField, валидация диапазона: от (_уточнить нижний процент_) до 100,0.
- **sertificate_path*** - путь к файлу с сертификатом, тип FileField
- **issued** - руководитель курса, кто выдал сертификат, тип OneToOneField, отношение один-к-одному к модели **User**
- **created_at*** - дата создания записи о сертификате, тип DateTimeField, сделать автоматическое проставление текущего времени

## Курс

Имя модели - **Course**
Таблица БД - **courses**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **title*** - название курса, тип CharField, длина 120
- **direction*** - направление, тип CharField, длина 60, выбор из заданного списка (_уточнить список направлений_)
- **level*** - уровень, тип ForeignKey (один ко многим) к модели **Level** (Уровень)
- **format*** - формат курса, длина 60, выбор из заданного списка (_уточнить список форматов_)
- **start_date*** - дата начала курса, тип DateField
- **cover_path** - путь к обложке курса, тип FileField
- **short_description*** - краткое описание курса, тип CharField, длина 120
- **full_description*** - полное описание курса, тип TextField
- **skills** - тип ManyToManyField (многие ко многим) к модели **Skill** (Навыки), через модель **CourseSkill**
- **faq** - тип ManyToManyField (многие ко многим) к модели **FAQ** (Часто задааваемые вопросы), через модель **CourseFAQ**
- **contents** - тип OneToOneField, отношение один-к-одному к модели **Content** (Содержание)
- **duration** - продолжительность курса (вычисляемое поле на основании информации о продолжительности всех уроков курса), тип IntegerField
- **number_of_classes** - количество занятий (вычисляемое поле на основании количества уроков в курсе), тип IntegerField
- **limiting_attempts** - количество попыток на прохождение курса. Если задано 0, то количество попыток не ограничено. Тип IntegerField, валидация от 0 до 10 (_уточнить возможную верхнюю границу диапазона_)
- **user_created** - пользователь создавший курс, тип OneToOneField, отношение один-к-одному к модели **User**
- **user_modified** - последний редактировавший курс, тип OneToOneField, отношение один-к-одному к модели **User**
- **is_ready** - статус готовности готов/не готов, тип BooleanField
- **is_visible** - статус видимости курса вкл./выкл., тип BooleanField
- **is_published** - статус публикации курса, тип BooleanField
- **created_at*** - дата создания записи о курсе, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи о курсе, тип DateTimeField, сделать автоматическое проставление текущего времени

## Навыки

Имя модели - **Skill**
Таблица БД - **skills**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **title*** - название навыка, тип CharField, длина 120
- **description*** - описание навыка, тип CharField, длина 255
- **user_created** - пользователь создавший описание навыка, тип OneToOneField, отношение один-к-одному к модели **User**
- **user_modified** - последний редактировавший описания навыка, тип OneToOneField, отношение один-к-одному к модели **User**
- **created_at*** - дата создания записи о навыке, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи о навыке, тип DateTimeField, сделать автоматическое проставление текущего времени

## Курсы <-> Навыки (многие-ко-многим)

Имя модели - **CourseSkill**
Таблица БД - courses_skills

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **course** - тип ForeignKey к модели курса **Course**
- **skill** - тип ForeignKey к модели навыка **Skill**
- **created_at*** - дата создания записи о связи курс - навык, тип DateTimeField, сделать автоматическое проставление текущего времени

## FAQ

Имя модели - **FAQ**
Таблица БД - **faq**

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **question*** - название навыка, тип CharField, длина 120
- **answer*** - описание навыка, тип CharField, длина 255
- **user_created** - пользователь создавший ответ, тип OneToOneField, отношение один-к-одному к модели **User**
- **user_modified** - пользователь последний редактировавший ответ, тип OneToOneField, отношение один-к-одному к модели **User**
- **created_at*** - дата создания записи об ответе на вопрос, тип DateTimeField, сделать автоматическое проставление текущего времени
- **updated_at*** - дата обновления записи об ответе на вопрос, тип DateTimeField, сделать автоматическое проставление текущего времени

## Курсы <-> FAQ (многие-ко-многим)

Имя модели - **CourseFAQ**
Таблица БД - courses_faq

Поля модели:

- **id*** - уникальный идентификатор, тип uuid, первичный ключ
- **course** - тип ForeignKey к модели курса **Course**
- **faq** - тип ForeignKey к модели часто задаваемых вопросов **FAQ**
- **created_at*** - дата создания записи о связи курс - ответ на вопрос, тип DateTimeField, сделать автоматическое проставление текущего времени

## TODO (возможно не предполагает реализацию на первом этапе)

- описать модель Содержание курса
- описать модель Глава
- описать модели Уроков (Урок, Видео, Вебинар, Тест, Квиз и др.)
